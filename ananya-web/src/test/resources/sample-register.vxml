<?xml version="1.0" encoding="UTF-8"?>
<vxml version="2.1" xmlns="http://www.w3.org/2001/vxml"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.w3.org/2001/vxml http://www.w3.org/TR/voicexml21/vxml.xsd">
    <var name="nameNotRecorded" expr="true"/>
    <var name="blockNotRecorded" expr="true"/>
    <var name="districtNotRecorded" expr="true"/>
    <var name="panchayatNotRecorded" expr="true"/>
    <var name="designationNotRecorded" expr="true"/>
    <form id="register_flw">
        <field name="designation" cond="designationNotRecorded">
            <prompt>

                <audio src="http://221.134.198.15/audio/register/0008_designation.wav"/>
            </prompt>
            <option dtmf="1" value="ANM"/>
            <option dtmf="2" value="ASHA"/>
            <option dtmf="3" value="ANGANWADI"/>
            <noinput>
                <audio src="http://221.134.198.15/audio/register/0008_designation.wav"/>
            </noinput>
            <nomatch>

                <audio src="http://221.134.198.15/audio/register/0008_designation.wav"/>
            </nomatch>
            <filled>
                <assign name="designationNotRecorded" expr="false"/>
            </filled>
        </field>
        <block>
            <prompt timeout="5s" bargein="false" cond="nameNotRecorded">
                <audio src="http://221.134.198.15/audio/register/0009_name.wav"/>
                <audio src="http://221.134.198.15/audio/register/beep.wav"/>
            </prompt>
        </block>
        <record name="name"
                cond="nameNotRecorded"
                beep="false"
                maxtime="10s"
                finalsilence="4000ms"
                dtmfterm="true"
                type="x-wav">

            <grammar mode="dtmf" version="1.0" root="root">
                <rule id="root" scope="public">
                    <one-of>

                        <item>1</item>
                    </one-of>
                </rule>
            </grammar>
            <noinput>
                <prompt bargein="false">
                    <audio src="http://221.134.198.15/audio/register/0009_name.wav"/>
                </prompt>

            </noinput>
        </record>
        <field name="nameConfirm" type="boolean" cond="nameNotRecorded">
            <prompt bargein="false">
                <audio src="http://221.134.198.15/audio/register/0010_name_pb.wav"/>
                <audio expr="name"/>
                <audio src="http://221.134.198.15/audio/register/0011_name_repeat.wav"/>
            </prompt>
            <grammar mode="dtmf" version="1.0" root="root">

                <rule id="root" scope="public">
                    <one-of>
                        <item>1</item>
                    </one-of>
                </rule>
            </grammar>
            <noinput>
                <assign name="nameNotRecorded" expr="false"/>

            </noinput>
            <nomatch>
                <assign name="nameNotRecorded" expr="false"/>
            </nomatch>
            <filled>
                <if cond="nameConfirm">
                    <goto next="#register_flw"/>
                    <else/>
                    <assign name="nameNotRecorded" expr="false"/>

                </if>
            </filled>
        </field>

        <block>
            <prompt timeout="5s" bargein="false" cond="districtNotRecorded">
                <audio src="http://221.134.198.15/audio/register/0012_district.wav"/>
                <audio src="http://221.134.198.15/audio/register/beep.wav"/>
            </prompt>

        </block>
        <record name="district"
                cond="districtNotRecorded"
                beep="false"
                maxtime="10s"
                finalsilence="4000ms"
                dtmfterm="true"
                type="x-wav">

            <grammar mode="dtmf" version="1.0" root="root">
                <rule id="root" scope="public">
                    <one-of>
                        <item>1</item>
                    </one-of>
                </rule>

            </grammar>
            <noinput>
                <prompt bargein="false">
                    <audio src="http://221.134.198.15/audio/register/0012_district.wav"/>
                </prompt>
            </noinput>
        </record>
        <field name="districtConfirm" type="boolean" cond="districtNotRecorded">
            <prompt bargein="false">

                <audio src="http://221.134.198.15/audio/register/0013_district_pb.wav"/>
                <audio expr="district"/>
                <audio src="http://221.134.198.15/audio/register/0014_district_repeat.wav"/>
            </prompt>
            <grammar mode="dtmf" version="1.0" root="root">
                <rule id="root" scope="public">
                    <one-of>
                        <item>1</item>

                    </one-of>
                </rule>
            </grammar>
            <noinput>
                <assign name="districtNotRecorded" expr="false"/>
            </noinput>
            <nomatch>
                <assign name="districtNotRecorded" expr="false"/>
            </nomatch>

            <filled>
                <if cond="districtConfirm">
                    <goto next="#register_flw"/>
                    <else/>
                    <assign name="districtNotRecorded" expr="false"/>
                </if>
            </filled>
        </field>

        <block>
            <prompt timeout="5s" bargein="false" cond="blockNotRecorded">
                <audio src="http://221.134.198.15/audio/register/0015_block.wav"/>
                <audio src="http://221.134.198.15/audio/register/beep.wav"/>
            </prompt>
        </block>
        <record name="block"
                cond="blockNotRecorded"
                beep="false"
                maxtime="10s"
                finalsilence="4000ms"
                dtmfterm="true"
                type="x-wav">

            <grammar mode="dtmf" version="1.0" root="root">

                <rule id="root" scope="public">
                    <one-of>
                        <item>1</item>
                    </one-of>
                </rule>
            </grammar>
            <noinput>
                <prompt bargein="false">

                    <audio src="http://221.134.198.15/audio/register/0015_block.wav"/>
                </prompt>
            </noinput>
        </record>
        <field name="blockConfirm" type="boolean" cond="blockNotRecorded">
            <prompt bargein="false">
                <audio src="http://221.134.198.15/audio/register/0016_block_pb.wav"/>
                <audio expr="block"/>
                <audio src="http://221.134.198.15/audio/register/0017_block_repeat.wav"/>

            </prompt>
            <grammar mode="dtmf" version="1.0" root="root">
                <rule id="root" scope="public">
                    <one-of>
                        <item>1</item>
                    </one-of>
                </rule>
            </grammar>

            <noinput>
                <assign name="blockNotRecorded" expr="false"/>
            </noinput>
            <nomatch>
                <assign name="blockNotRecorded" expr="false"/>
            </nomatch>
            <filled>
                <if cond="blockConfirm">
                    <goto next="#register_flw"/>

                    <else/>
                    <assign name="blockNotRecorded" expr="false"/>
                </if>
            </filled>
        </field>

        <block>
            <prompt timeout="5s" bargein="false" cond="panchayatNotRecorded">
                <audio src="http://221.134.198.15/audio/register/0018_panchayat.wav"/>

                <audio src="http://221.134.198.15/audio/register/beep.wav"/>
            </prompt>
        </block>
        <record name="panchayat"
                cond="panchayatNotRecorded"
                beep="false"
                maxtime="10s"
                finalsilence="4000ms"
                dtmfterm="true"
                type="x-wav">

            <grammar mode="dtmf" version="1.0" root="root">
                <rule id="root" scope="public">
                    <one-of>
                        <item>1</item>

                    </one-of>
                </rule>
            </grammar>
            <noinput>
                <prompt bargein="false">
                    <audio src="http://221.134.198.15/audio/register/0018_panchayat.wav"/>
                </prompt>
            </noinput>
        </record>

        <field name="panchayatConfirm" type="boolean" cond="panchayatNotRecorded">
            <prompt bargein="false">
                <audio src="http://221.134.198.15/audio/register/0019_panchayat_pb.wav"/>
                <audio expr="panchayat"/>
                <audio src="http://221.134.198.15/audio/register/0020_panchayat_repeat.wav"/>
            </prompt>
            <grammar mode="dtmf" version="1.0" root="root">
                <rule id="root" scope="public">
                    <one-of>

                        <item>1</item>
                    </one-of>
                </rule>
            </grammar>
            <noinput>
                <assign name="panchayatNotRecorded" expr="false"/>
            </noinput>
            <nomatch>

                <assign name="panchayatNotRecorded" expr="false"/>
            </nomatch>
            <filled>
                <if cond="panchayatConfirm">
                    <goto next="#register_flw"/>
                    <else/>
                    <assign name="panchayatNotRecorded" expr="false"/>
                </if>
            </filled>

        </field>

        <block>
            <data src="/ananya/flw/register/"
                  enctype="multipart/form-data"
                  method="post"
                  namelist="session.connection.local.uri designation name district block panchayat"/>

            <audio src="http://221.134.198.15/audio/register/0021_regdone.wav"/>

            <goto next="/ananya/vxml/jobaid.vxml"/>
        </block>
    </form>
</vxml>

